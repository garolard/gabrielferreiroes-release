{"version":3,"sources":["client.ts"],"names":["Client","Client.SniptClient","Client.SniptClient.constructor","Client.SniptClient.GetAllPosts","Client.SniptClient.CreatePostsElements"],"mappings":"AAAA,kCAAkC;AAElC,IAAO,MAAM,CAsGZ;AAtGD,WAAO,MAAM,EAAC,CAAC;IAMdA;QAMCC,qBAAoBA,QAAgBA,EAAUA,MAAcA,EAAUA,iBAAyBA;YAA3EC,aAAQA,GAARA,QAAQA,CAAQA;YAAUA,WAAMA,GAANA,MAAMA,CAAQA;YAAUA,sBAAiBA,GAAjBA,iBAAiBA,CAAQA;YAC9FA,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;YACzBA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;YACrBA,IAAIA,CAACA,iBAAiBA,GAAGA,iBAAiBA,CAACA;YAC3CA,IAAIA,CAACA,IAAIA,GAAGA,uBAAuBA,CAACA;YACpCA,IAAIA,CAACA,KAAKA,GAAGA,SAASA,CAACA;QACxBA,CAACA;QAEDD,iCAAWA,GAAXA;YAAAE,iBA2BCA;YAzBAA,IAAIA,OAAOA,GAAqBA,IAAIA,CAACA;YAErCA,IAAIA,UAAUA,GAAWA,IAAIA,CAACA,IAAIA,CAACA;YACnCA,UAAUA,IAAIA,GAAGA,CAACA;YAClBA,UAAUA,IAAIA,IAAIA,CAACA,KAAKA,CAACA;YACzBA,UAAUA,IAAIA,QAAQA,EAAEA,eAAeA;YACvCA,UAAUA,IAAIA,IAAIA,CAACA;YACnBA,UAAUA,IAAIA,WAAWA,CAACA;YAC1BA,UAAUA,IAAIA,IAAIA,CAACA,QAAQA,CAACA;YAC5BA,UAAUA,IAAIA,WAAWA,CAACA;YAC1BA,UAAUA,IAAIA,IAAIA,CAACA,MAAMA,CAACA;YAC1BA,UAAUA,IAAIA,cAAcA,CAACA;YAE7BA,IAAIA,GAAGA,GAAmBA,IAAIA,cAAcA,EAAEA,CAACA;YAC/CA,GAAGA,CAACA,kBAAkBA,GAAGA,UAACA,EAAEA;gBAE3BA,EAAEA,CAACA,CAACA,GAAGA,CAACA,UAAUA,IAAIA,CAACA,IAAIA,GAAGA,CAACA,MAAMA,IAAIA,GAAGA,CAACA,CAACA,CAACA;oBAC9CA,IAAIA,QAAQA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,YAAYA,CAACA,CAACA;oBAC5CA,OAAOA,GAAGA,QAAQA,CAACA,OAAOA,CAACA;oBAC3BA,KAAIA,CAACA,mBAAmBA,CAACA,OAAOA,CAACA,CAACA;gBACnCA,CAACA;YAEFA,CAACA,CAACA;YACFA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,EAAEA,UAAUA,EAAEA,IAAIA,CAACA,CAACA;YAClCA,GAAGA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QAChBA,CAACA;QAEOF,yCAAmBA,GAA3BA,UAA4BA,KAAuBA;YAElDG,IAAIA,gBAAgBA,GAAmBA,QAAQA,CAACA,aAAaA,CAACA,KAAKA,CAACA,CAACA;YACrEA,gBAAgBA,CAACA,SAASA,CAACA,GAAGA,CAACA,KAAKA,CAACA,CAACA;YACtCA,IAAIA,UAAUA,GAAWA,CAACA,CAACA;YAE3BA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,IAAIA,KAAKA,CAACA,CAACA,CAACA;gBACvBA,EAAEA,CAACA,CAACA,KAAKA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;oBAC/BA,IAAIA,OAAOA,GAAGA,KAAKA,CAACA,GAAGA,CAACA,CAACA;oBAEzBA,EAAEA,CAACA,CAACA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA;wBACxBA,QAAQA,CAACA;oBACVA,CAACA;oBAEDA,IAAIA,SAASA,GAAmBA,QAAQA,CAACA,aAAaA,CAACA,KAAKA,CAACA,CAACA;oBAC9DA,SAASA,CAACA,SAASA,CAACA,GAAGA,CAACA,aAAaA,CAACA,CAACA;oBACvCA,SAASA,CAACA,SAASA,CAACA,GAAGA,CAACA,UAAUA,CAACA,CAACA;oBACpCA,SAASA,CAACA,SAASA,CAACA,GAAGA,CAACA,iBAAiBA,CAACA,CAACA;oBAC3CA,SAASA,CAACA,SAASA,CAACA,GAAGA,CAACA,UAAUA,CAACA,CAACA;oBAEpCA,IAAIA,KAAKA,GAAuBA,QAAQA,CAACA,aAAaA,CAACA,IAAIA,CAACA,CAACA;oBAC7DA,KAAKA,CAACA,SAASA,GAAGA,OAAOA,CAACA,KAAKA,CAACA;oBAChCA,SAASA,CAACA,WAAWA,CAACA,KAAKA,CAACA,CAACA;oBAE7BA,IAAIA,MAAMA,GAAyBA,QAAQA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA;oBAC/DA,MAAMA,CAACA,SAASA,GAAGA,OAAOA,CAACA,IAAIA,CAACA,MAAMA,GAAGA,GAAGA,GAAGA,OAAOA,CAACA,IAAIA,GAAGA,OAAOA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,EAAEA,GAAGA,CAACA,CAACA;oBACzFA,MAAMA,CAACA,SAASA,IAAIA,KAAKA,CAACA;oBAC1BA,SAASA,CAACA,WAAWA,CAACA,MAAMA,CAACA,CAACA;oBAE9BA,IAAIA,UAAUA,GAAsBA,QAAQA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA;oBAChEA,UAAUA,CAACA,IAAIA,GAAGA,OAAOA,CAACA,iBAAiBA,CAACA;oBAC5CA,UAAUA,CAACA,SAASA,GAAGA,UAAUA,CAACA;oBAClCA,SAASA,CAACA,WAAWA,CAACA,UAAUA,CAACA,CAACA;oBAElCA,EAAEA,CAACA,CAACA,UAAUA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBACpBA,gBAAgBA,CAACA,WAAWA,CAACA,SAASA,CAACA,CAACA;wBACxCA,UAAUA,EAAEA,CAACA;oBACdA,CAACA;oBAACA,IAAIA,CAACA,CAACA;wBACPA,QAAQA,CAACA,aAAaA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA,WAAWA,CAACA,gBAAgBA,CAACA,CAACA;wBAC7EA,gBAAgBA,GAAGA,QAAQA,CAACA,aAAaA,CAACA,KAAKA,CAACA,CAACA;wBACjDA,gBAAgBA,CAACA,SAASA,CAACA,GAAGA,CAACA,KAAKA,CAACA,CAACA;wBACtCA,gBAAgBA,CAACA,WAAWA,CAACA,SAASA,CAACA,CAACA;wBACxCA,UAAUA,GAAGA,CAACA,CAACA;oBAChBA,CAACA;gBACFA,CAACA;YACFA,CAACA;YAEDA,AACAA,oEADoEA;YACpEA,QAAQA,CAACA,aAAaA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA,WAAWA,CAACA,gBAAgBA,CAACA,CAACA;QAE9EA,CAACA;QAEFH,kBAACA;IAADA,CA/FAD,AA+FCC,IAAAD;IA/FYA,kBAAWA,cA+FvBA,CAAAA;AACFA,CAACA,EAtGM,MAAM,KAAN,MAAM,QAsGZ","file":"client.js","sourcesContent":["///<reference path=\"entities.ts\"/>\r\n\r\nmodule Client {\r\n    \r\n\texport interface ISniptClient {\r\n\t\tGetAllPosts(): void;\r\n\t}\r\n\t\r\n\texport class SniptClient implements ISniptClient {\r\n\t\t\r\n\t\thost: string;\r\n\t\tscope: string;\r\n\t\trequest: string;\r\n\t\t\r\n\t\tconstructor(private username: string, private apikey: string, private containerSelector: string) {\r\n\t\t\tthis.username = username;\r\n\t\t\tthis.apikey = apikey;\r\n\t\t\tthis.containerSelector = containerSelector;\r\n\t\t\tthis.host = \"https://snipt.net/api\";\r\n\t\t\tthis.scope = \"private\";\r\n\t\t}\r\n\t\t\r\n\t\tGetAllPosts() {\r\n\t\t\t\r\n\t\t\tvar myPosts: Entities.Snipt[] = null;\r\n\t\t\t\r\n\t\t\tvar requestUrl: string = this.host;\r\n\t\t\trequestUrl += '/';\r\n\t\t\trequestUrl += this.scope;\r\n\t\t\trequestUrl += '/snipt'; // Refacto here\r\n\t\t\trequestUrl += '/?';\r\n\t\t\trequestUrl += 'username=';\r\n\t\t\trequestUrl += this.username;\r\n\t\t\trequestUrl += '&api_key=';\r\n\t\t\trequestUrl += this.apikey;\r\n\t\t\trequestUrl += '&format=json';\r\n\t\t\t\r\n\t\t\tvar xhr: XMLHttpRequest = new XMLHttpRequest();\r\n\t\t\txhr.onreadystatechange = (ev) => {\r\n\t\t\t\t\r\n\t\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\t\t\tvar response = JSON.parse(xhr.responseText);\r\n\t\t\t\t\tmyPosts = response.objects;\r\n\t\t\t\t\tthis.CreatePostsElements(myPosts);\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t};\r\n\t\t\txhr.open('GET', requestUrl, true);\r\n\t\t\txhr.send(null);\r\n\t\t}\r\n\t\t\r\n\t\tprivate CreatePostsElements(posts: Entities.Snipt[]) {\r\n\t\t\t\r\n\t\t\tvar postRowContainer: HTMLDivElement = document.createElement(\"div\");\r\n\t\t\tpostRowContainer.classList.add('row');\r\n\t\t\tvar addedPosts: number = 0;\r\n\t\t\t\r\n\t\t\tfor (var key in posts) {\r\n\t\t\t\tif (posts.hasOwnProperty(key)) {\r\n\t\t\t\t\tvar element = posts[key];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!element.blog_post) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tvar container: HTMLDivElement = document.createElement(\"div\");\r\n\t\t\t\t\tcontainer.classList.add(\"post-resume\");\r\n\t\t\t\t\tcontainer.classList.add(\"col-lg-5\");\r\n\t\t\t\t\tcontainer.classList.add(\"col-lg-offset-1\");\r\n\t\t\t\t\tcontainer.classList.add(\"col-sm-6\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar title: HTMLHeadingElement = document.createElement(\"h3\");\r\n\t\t\t\t\ttitle.innerHTML = element.title;\r\n\t\t\t\t\tcontainer.appendChild(title);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar resume: HTMLParagraphElement = document.createElement(\"p\");\r\n\t\t\t\t\tresume.innerHTML = element.code.length < 137 ? element.code : element.code.slice(0, 137);\r\n\t\t\t\t\tresume.innerHTML += '...';\r\n\t\t\t\t\tcontainer.appendChild(resume);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar linkToPost: HTMLAnchorElement = document.createElement(\"a\");\r\n\t\t\t\t\tlinkToPost.href = element.full_absolute_url;\r\n\t\t\t\t\tlinkToPost.innerHTML = \"Leer más\";\r\n\t\t\t\t\tcontainer.appendChild(linkToPost);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (addedPosts < 2)\t{\r\n\t\t\t\t\t\tpostRowContainer.appendChild(container);\r\n\t\t\t\t\t\taddedPosts++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdocument.querySelector(this.containerSelector).appendChild(postRowContainer);\r\n\t\t\t\t\t\tpostRowContainer = document.createElement(\"div\");\r\n\t\t\t\t\t\tpostRowContainer.classList.add('row');\r\n\t\t\t\t\t\tpostRowContainer.appendChild(container);\r\n\t\t\t\t\t\taddedPosts = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Agrego el último contenedor por si quedó con menos de 2 elementos\r\n\t\t\tdocument.querySelector(this.containerSelector).appendChild(postRowContainer);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n}"],"sourceRoot":"/source/"}