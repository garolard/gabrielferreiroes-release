{"version":3,"sources":["main.ts"],"names":["buildPosts"],"mappings":"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","file":"main.js","sourcesContent":["///<reference path=\"sniptclient.ts\" />\r\n///<reference path=\"credentials.ts\" />\r\n///<reference path=\"promise.ts\" />\r\n///<reference path=\"declarations/i18next.d.ts\" />\r\n\r\n// Necesario refacto brutal\r\nfunction buildPosts(posts: Entities.Snipt[]): void {\r\n    var postRowContainer: HTMLDivElement = document.createElement(\"div\");\r\n    postRowContainer.classList.add('row');\r\n    var addedPosts: number = 0;\r\n\r\n    for (var key in posts) {\r\n        if (posts.hasOwnProperty(key)) {\r\n            var element = posts[key];\r\n\r\n            var container: HTMLDivElement = document.createElement(\"div\");\r\n            container.classList.add(\"post-resume\");\r\n            container.classList.add(\"col-lg-5\");\r\n            container.classList.add(\"col-lg-offset-1\");\r\n            container.classList.add(\"col-sm-6\");\r\n\r\n            var title: HTMLHeadingElement = document.createElement(\"h3\");\r\n            title.innerHTML = element.title;\r\n            container.appendChild(title);\r\n\r\n            var resume: HTMLParagraphElement = document.createElement(\"p\");\r\n            resume.innerHTML = element.code.length < 137 ? element.code : element.code.slice(0, 137);\r\n            resume.innerHTML += '...';\r\n            container.appendChild(resume);\r\n\r\n            var linkToPost: HTMLAnchorElement = document.createElement(\"a\");\r\n            linkToPost.href = element.full_absolute_url;\r\n            linkToPost.innerHTML = \"Leer más\";\r\n            container.appendChild(linkToPost);\r\n\r\n            if (addedPosts < 2)\t{\r\n                postRowContainer.appendChild(container);\r\n                addedPosts++;\r\n            } else {\r\n                document.querySelector('div.post-resume-container').appendChild(postRowContainer);\r\n                postRowContainer = document.createElement(\"div\");\r\n                postRowContainer.classList.add('row');\r\n                postRowContainer.appendChild(container);\r\n                addedPosts = 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Agrego el último contenedor por si quedó con menos de 2 elementos\r\n    document.querySelector('div.post-resume-container').appendChild(postRowContainer);\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', (e) => {\r\n\t\r\n    var lang    = \"\",\r\n        locale  = \"en\";  // default\r\n\r\n    // get the user's locale - mobile or web\r\n    if (typeof navigator.globalization !== 'undefined') {\r\n        // on mobile phone\r\n        navigator.globalization.getLocaleName(\r\n            function (loc) {locale = loc.value; },\r\n            function () {console.log('Error getting locale\\n'); }\r\n        );\r\n    } else {\r\n        // in web browser\r\n        lang = navigator.language.split(\"-\");\r\n        locale = lang[0];\r\n    }\r\n    console.log(\"locale: %s\", locale);\r\n    \r\n    i18n.init({\r\n       lng: locale,\r\n       fallbackLng: 'en' \r\n    }, function (err, t) {\r\n        $('body').i18n();\r\n    });\r\n        \r\n    // i18n.init(function (err, t) {\r\n    //     $('.nav').i18n();\r\n    // });\r\n    \r\n\tvar client: SimpleSniptClient = new SimpleSniptClient(Credentials.ApiUser(), Credentials.ApiKey());\r\n    client.getAllBlogPostsAsync().then((x: Entities.Snipt[]) => buildPosts(x));\r\n\t\r\n});"],"sourceRoot":"/source/"}